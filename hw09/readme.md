## Выполнение домашнего задания

Разработаны микросервисы auth и server на golang

- Auth - для создание игры и получения jwt токена
- Server - для отправки команд в игру и проверки jwt токена

JWT-токен выглядит следующим образом:

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJnYW1lSWQiOjIsInVzZXIiOiJ1c2VyMSIsIm9wZXJhdGlvbnMiOlsxLDIsM119.BdWkHm0TZJbQCGtejOl_utgPiNKkge4z9qB_GJd77aQ

Данные в payload:
```
{
    "gameId": 2,
    "user": "user1",
    "operations": [1, 2, 3]
}
```

Пример команды в Server:
```
{
    "gameId": -1,
    "user": "user1",
    "operationId": 1,
    "token": "{{token}}"
    ...
}
```

### Тестирование

Тестирование проводится через коллекцию postman / newman

Сценарий тестирования:
- Проверка состояния сервиса auth - 200
- Проверка состояния сервиса server - 200

Сервис Auth
- Запрос на cоздание игры с 3 участниками: user1, user2, user3; получение id игры - 200
- Запрос на получение jwt токена с неправильным id игры - 404
- Запрос на получение jwt токена с неправильным паролем игрока - 404
- Запрос на получение jwt токена с правильными данными игрока и id игры - 200

Сервис Server
- Запрос на выполнение операции с пустым токеном - 400
- Запрос на выполнение операции с корректным токеном но неправильным id игры - 401
- Запрос на выполнение операции с корректным токеном, id игры, но неправильным игроком - 401
- Запрос на выполнение операции с корректным токеном, id игры, игроком, но недопустимой операцией - 401
- Запрос на выполнение операции с корректным токеном, id игры, игроком, операцией - 200


### Запуск и проверка

Сервисы при запуске собираются в docker образы, запускаются с использованием docker-compose

Для удобства команды на запуск, проверку, остановку сделаны через Makefile

```
# Запуск сервисов
make compose-up

# Запуск тестов
make tests

# Остановка сервисов
make compose-up
```

