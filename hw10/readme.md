## Выполнение домашнего задания

Для игры понадобятся следующие сервисы:

- Profile - сервис профилей игроков
- Auth - сервис авторизации игроков
- Tournament - сервис турниров
- Notification - сервис уведомлений
- Simulator - сервис проведения игр

![Alt text](./pictures/hw10.jpg?raw=true "")

### Примерные Endpoints для сервисов

1) Profile - сервис профилей игроков

- `POST /profile/create`    // создание нового пользователя
- `GET /profile/{id}`       // получение профиля пользователя
- `PUT /profile/{id}`       // редактирование профиля пользователя
- `DELETE /profile/{id}`    // удаление профиля пользователя

2) Auth - сервис авторизации игроков

- `POST /auth/login`    // login пользователя и получение JWT токена
- `POST /auth/logout`   // logout пользователя

3) Tournament - сервис турниров

- `POST /tournament/create`                // создание нового турнира со списком пользователей
- `GET /tournament/list`                   // получение списка турниров
- `POST /tournament/request`               // запрос на участие в турнире
- `POST /tournament/request/{id}/approve`  // запрос на участие в турнире одобрен
- `POST /tournament/request/{id}/reject`   // запрос на участие в турнире отклонен

4) Notification - сервис уведомлений

- `POST /notification/send`     // отправка нотификации пользователю

5) Simulator - сервис проведения игр

- `POST /simulator/load`         // загрузка программы для игры от пользователя
- `POST /simulator/{id}/start`   // запуск игры
- `POST /simulator/{id}/stop`    // остановка игры


### Узкие места и потенциальные проблемы масштабирования

1) Сервис Tournament перестанет справляться с нагрузкой, если турниров станет слишком много.

   Решение: горизонтальное масштабирование сервиса Tournament, разные турниры на разных серверах.

2) Сервис Notification перестанет справляться с нагрузкой, если уведомлений станет слишком много.

   Решение: пакетная обработка сообщений вместо обработки одиночных сообщений.

3) Большая нагрузка на сервис Auth для подтверждения валидности JWT-токена.

   Решение: подписывать JWT-токен приватным ключем на сервиса Auth.
   Расшифровывать публичным ключем в других сервисах, без постоянного обращения к Auth.

4) Сервис Simulator перестанет справляться с нагрузкой, если игр станет слишком много.

   Решение: горизонтальное масштабирование сервиса Simulator, разные игры на разных серверах.

### Компоненты, к которым чаще всего могут меняться требования

1) Сервис Simulator - добавление и изменение команд и правил игры

2) Сервис Notification - добавление новых каналов для уведомлений (SMS, социальные сети, ...)
